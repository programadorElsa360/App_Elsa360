<!DOCTYPE HTML>
<html lang="es">

<head>
    <link rel="icon" href="images/E-de-ELSA.ico">
    <meta name="viewport" content="width=device-width,inital-scale=1.0">
    <meta charset="utf-8" />
    <meta name="keywords" content="Aquí, se, coloca, cada, palabra, clave">
    <meta name="description" content="Aquí se escribe, de que es la pagina">
    <meta name="author" content="ELSA360 - E Learning Sports Academy | FND sas">
    <meta name="copyright" content="ELSA360 - E Learning Sports Academy | FND sas">
    <meta name="robots" content="noindex">
    <title>Registro - ELSA360</title>
    <link rel="stylesheet" href="CSS/signup.css">
</head>

<body>
    <header class="header contenedor">


        <div class="content-header">
            <a href="index.html"><img src="images/elsa-Verde.png" alt="Logo ELSA360" title="Logo ELSA360"></a>
            <h1>Regístrate con tu correo</h1>
            <form class="form" action="#" method="post">
                <input type="text" name="nombre" id="Nombre" placeholder="¿Cúal es tu nombre completo?" required="">
                <input type="email" id="email" placeholder="Ingresa tu correo electronico" required="">
                <input type="password" id="contra" name="password" placeholder="Define tu contraseña" required="">
                <div class="checkbox"><input type="checkbox" onclick="mostrarContraseña()" id="mostrar" name="mostrar"
                        value="mostrar"> Mostrar contraseña</div>
                <input type="password" id="confirm" name="confirm_password" placeholder="Confirma tu contraseña"
                    required="">
                <div class="checkbox"><input type="checkbox" onclick="mostrarContraseñaC()" id="mostrar" name="mostrar"
                        value="mostrar"> Mostrar contraseña</div>
                <input class="boton-envio" value="Registrarme" onclick="registrar()"> <br>
                <a href="index.html" class="regresar">Regresar</a>
                o <a href="login.html" class="ya-tengo">Ingresa</a>
            </form>
        </div>

    </header>


    <script>
        function registrar() {
            var nombre = document.getElementById("Nombre").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("contra").value;
            var confir = document.getElementById("confirm").value;
            console.log(nombre);
            console.log(email);
            console.log(password);
            console.log(confir);
            if (password === confir) {
                fetch('https://mighty-savannah-54001.herokuapp.com/users/register/', {
                    method: 'POST',
                    // mode: 'no-cors',
                    body: JSON.stringify(
                        {
                            "user": {
                                "username": nombre,
                                "email": email,
                                "first_name": "",
                                "last_name": "",
                                "age": 0,
                                "height": 0,
                                "weight": 0,
                                "weight_goal": 0
                            },
                            "password": password,
                            "confirm_password": confir
                        }
                    ),
                    headers: {
                        'Content-type': 'application/json',
                    },
                })
                    .then((response) => response.json())
                    .then((json) => console.log(json));
            } else {
                console.log("Las contraseñas no coinciden");
            }

        }

        function mostrarContraseña() {
            var tipo = document.getElementById("contra");
            if (tipo.type == "password") {
                tipo.type = "text";
            } else {
                tipo.type = "password";
            }
        }

        function mostrarContraseñaC() {
            var tipo = document.getElementById("confirm");
            if (tipo.type == "password") {
                tipo.type = "text";
            } else {
                tipo.type = "password";
            }
        }
    </script>

</body>

</html>